{% extends "base.html" %}

{% block title %}Resourcesä¸€è¦§ - Accel MCP{% endblock %}

{% block breadcrumb %}
<nav class="breadcrumb">
    <a href="/dashboard" data-i18n="breadcrumb_home">ãƒ›ãƒ¼ãƒ </a>
    <span class="breadcrumb-separator">â€º</span>
    <span class="breadcrumb-current" data-i18n="resource_list_title">Resourcesä¸€è¦§</span>
</nav>
{% endblock %}

{% block content %}
<div class="page-title">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h2 data-i18n="resource_list_title">Resourcesä¸€è¦§</h2>
            <p data-i18n="resource_list_desc">ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒªã‚½ãƒ¼ã‚¹ãƒ—ãƒ¼ãƒ«ã®ç®¡ç†</p>
        </div>
        <a href="/resources/new" class="btn btn-primary" data-i18n="resource_new_button">æ–°è¦Resourceç™»éŒ²</a>
    </div>
</div>

<!-- Usage Instructions Accordion -->
<div class="accordion">
    <div class="accordion-header" onclick="toggleAccordion()">
        <span data-i18n="resource_usage_title">ğŸ’¡ Resourcesã®ä½¿ç”¨æ–¹æ³•</span>
        <span class="accordion-icon">â–¼</span>
    </div>
    <div class="accordion-content" id="usage-accordion">
        <div class="usage-box">
            <p style="margin-bottom: 16px;" data-i18n="resource_usage_intro">
                Resourcesã¯ã€ãƒãƒªã‚·ãƒ¼æ–‡æ›¸ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€FAQç­‰ã®é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’LLMã«æä¾›ã™ã‚‹ãŸã‚ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ—ãƒ¼ãƒ«ã§ã™
            </p>
            
            <strong data-i18n="resource_usage_features_title">ğŸ”‘ ä¸»ãªç‰¹å¾´:</strong>
            <ul style="margin: 8px 0 16px 20px; line-height: 1.8;">
                <li><strong data-i18n="resource_usage_feature_global">ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†</strong>: <span data-i18n="resource_usage_feature_global_desc">ã‚¢ãƒ—ãƒªã‚„MCPã‚µãƒ¼ãƒ“ã‚¹ã«ç´ä»˜ã‹ãšã€å…¨ä½“ã§å…±æœ‰</span></li>
                <li><strong data-i18n="resource_usage_feature_uri">ä¸€æ„ãªURI</strong>: <span data-i18n="resource_usage_feature_uri_desc">accel://&lt;server-id&gt;/resources/&lt;resource-id&gt; å½¢å¼</span></li>
                <li><strong data-i18n="resource_usage_feature_access">ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡</strong>: <span data-i18n="resource_usage_feature_access_desc">Publicï¼ˆå…¨ä½“å…¬é–‹ï¼‰/ Restrictedï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¶é™ï¼‰</span></li>
                <li><strong data-i18n="resource_usage_feature_mime">MIMEã‚¿ã‚¤ãƒ—å¯¾å¿œ</strong>: <span data-i18n="resource_usage_feature_mime_desc">text/plain, text/markdown, application/jsonç­‰</span></li>
            </ul>
            
            <strong data-i18n="resource_usage_mcp_title">ğŸ“¡ MCPãƒ—ãƒ­ãƒˆã‚³ãƒ«:</strong>
            <div style="background: #f5f5f5; border-radius: 4px; padding: 12px; margin-top: 8px; font-family: monospace; font-size: 13px;">
                <div style="margin-bottom: 8px;">
                    <span style="color: #666;" data-i18n="resource_usage_mcp_list">// ãƒªã‚½ãƒ¼ã‚¹ä¸€è¦§å–å¾—</span><br>
                    <code style="color: #388e3c;">resources/list</code>
                </div>
                <div>
                    <span style="color: #666;" data-i18n="resource_usage_mcp_read">// ãƒªã‚½ãƒ¼ã‚¹å†…å®¹å–å¾—</span><br>
                    <code style="color: #388e3c;">resources/read</code> â†’ <code style="color: #d32f2f;">"uri": "accel://abc123ef/resources/xyz789ab"</code>
                </div>
            </div>

            <strong style="display: block; margin-top: 16px;" data-i18n="resource_usage_examples_title">âœï¸ ä½¿ç”¨ä¾‹:</strong>
            <ul style="margin: 8px 0 0 20px; line-height: 1.8;">
                <li data-i18n="resource_usage_example_policy">ä¼šç¤¾ãƒãƒªã‚·ãƒ¼æ–‡æ›¸ï¼ˆç¤¾å†…è¦å®šã€ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ãƒ«ãƒ¼ãƒ«ï¼‰</li>
                <li data-i18n="resource_usage_example_faq">FAQé›†ï¼ˆã‚ˆãã‚ã‚‹è³ªå•ã¨å›ç­”ï¼‰</li>
                <li data-i18n="resource_usage_example_config">è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆJSON/YAMLå½¢å¼ã®configurationï¼‰</li>
                <li data-i18n="resource_usage_example_template">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ¬ãƒãƒ¼ãƒˆé››å½¢ï¼‰</li>
            </ul>
        </div>
    </div>
</div>

<div id="resources-list"></div>

<style>
.accordion {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    margin-bottom: 24px;
    overflow: hidden;
}

.accordion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    cursor: pointer;
    background: #f8f9fa;
    font-weight: 500;
    color: #333;
    transition: background 0.2s;
    user-select: none;
}

.accordion-header:hover {
    background: #e9ecef;
}

.accordion-icon {
    font-size: 12px;
    transition: transform 0.3s;
}

.accordion-icon.rotate {
    transform: rotate(180deg);
}

.accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}

.usage-box {
    padding: 20px;
    line-height: 1.6;
}

.usage-box code {
    background: #e3f2fd;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.9em;
}
</style>

<script>
function toggleAccordion() {
    const content = document.getElementById('usage-accordion');
    const icon = document.querySelector('.accordion-icon');
    
    if (content.style.maxHeight) {
        content.style.maxHeight = null;
        icon.classList.remove('rotate');
    } else {
        content.style.maxHeight = content.scrollHeight + 'px';
        icon.classList.add('rotate');
    }
}
</script>
{% endblock %}

{% block scripts %}
<script src="/assets/view/resources/list.js"></script>
{% endblock %}
