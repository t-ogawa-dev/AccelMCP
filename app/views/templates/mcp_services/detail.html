{% extends "base.html" %}

{% block title %}MCPサービス詳細 - Accel MCP{% endblock %}

{% block breadcrumb %}
<nav class="breadcrumb" id="breadcrumb">
    <a href="/dashboard" data-i18n="breadcrumb_home">ホーム</a>
    <span class="breadcrumb-separator">›</span>
    <a href="/mcp-services" data-i18n="mcp_service_list_title">MCPサービス一覧</a>
    <span class="breadcrumb-separator">›</span>
    <span class="breadcrumb-current" data-i18n="mcp_service_detail_title">MCPサービス詳細</span>
</nav>
{% endblock %}

{% block content %}
<div class="page-title">
    <div class="page-header-responsive">
        <div class="page-header-text">
            <h2 id="service-name" data-i18n="mcp_service_detail_title">MCPサービス詳細</h2>
            <p data-i18n="mcp_service_detail_desc">MCPサービスの詳細情報</p>
        </div>
        <div class="page-header-actions">
            <a href="/mcp-services/{{ mcp_service_id }}/apps" class="btn btn-primary">
                <span data-i18n="app_list_title">アプリ一覧</span>
            </a>
            <a href="/connection-logs/list?mcp_service_id={{ mcp_service_id }}" class="btn btn-secondary">
                <span data-i18n="connection_log_button">📋 ログ</span>
            </a>
            <button onclick="exportMcpService()" class="btn btn-secondary" data-i18n="mcp_service_export_button">エクスポート</button>
            <a href="/mcp-services/{{ mcp_service_id }}/edit" class="btn btn-secondary" data-i18n="button_edit">編集</a>
        </div>
    </div>
</div>

<div class="detail-card">
    <h3 data-i18n="mcp_service_basic_info">基本情報</h3>
    <table class="detail-table">
        <tr>
            <th data-i18n="mcp_service_name_label">サービス名</th>
            <td id="name"></td>
        </tr>
        <tr>
            <th data-i18n="mcp_service_identifier_label">識別子</th>
            <td id="identifier"></td>
        </tr>
        <tr>
            <th data-i18n="mcp_service_mcp_endpoint">MCPエンドポイント</th>
            <td>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <code id="mcp-endpoint" style="flex: 1;"></code>
                    <button onclick="copyEndpoint(this)" class="btn btn-sm btn-secondary" style="white-space: nowrap;">
                        <span data-i18n="button_copy">コピー</span>
                    </button>
                </div>
            </td>
        </tr>
        <tr>
            <th data-i18n="mcp_service_description_label">説明</th>
            <td id="description"></td>
        </tr>
        <tr>
            <th data-i18n="access_control">アクセス制御</th>
            <td>
                <span id="access-control-badge"></span>
            </td>
        </tr>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script src="/assets/view/mcp_services/detail.js"></script>
{% endblock %}
