{% extends "base.html" %}

{% block title %}MCPサービス詳細 - Accel MCP{% endblock %}

{% block breadcrumb %}
<nav class="breadcrumb" id="breadcrumb">
    <a href="/dashboard" data-i18n="breadcrumb_home">ホーム</a>
    <span class="breadcrumb-separator">›</span>
    <a href="/mcp-services" data-i18n="mcp_service_list_title">MCPサービス一覧</a>
    <span class="breadcrumb-separator">›</span>
    <span class="breadcrumb-current" data-i18n="mcp_service_detail_title">MCPサービス詳細</span>
</nav>
{% endblock %}

{% block content %}
<div class="page-title">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h2 id="service-name" data-i18n="mcp_service_detail_title">MCPサービス詳細</h2>
            <p data-i18n="mcp_service_detail_desc">MCPサービスの詳細情報</p>
        </div>
        <div style="display: flex; gap: 10px;">
            <button onclick="exportMcpService()" class="btn btn-secondary" data-i18n="mcp_service_export_button">エクスポート</button>
            <a href="/mcp-services/{{ mcp_service_id }}/edit" class="btn btn-secondary" data-i18n="button_edit">編集</a>
        </div>
    </div>
</div>

<div class="detail-card">
    <h3 data-i18n="mcp_service_basic_info">基本情報</h3>
    <table class="detail-table">
        <tr>
            <th data-i18n="mcp_service_name_label">サービス名</th>
            <td id="name"></td>
        </tr>
        <tr>
            <th data-i18n="mcp_service_subdomain_label">サブドメイン</th>
            <td id="subdomain"></td>
        </tr>
        <tr>
            <th data-i18n="mcp_service_mcp_endpoint">MCPエンドポイント</th>
            <td>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <code id="mcp-endpoint" style="flex: 1;"></code>
                    <button onclick="copyEndpoint(this)" class="btn btn-sm btn-secondary" style="white-space: nowrap;">
                        <span data-i18n="button_copy">コピー</span>
                    </button>
                </div>
            </td>
        </tr>
        <tr>
            <th data-i18n="mcp_service_description_label">説明</th>
            <td id="description"></td>
        </tr>
    </table>
</div>

<div class="detail-card" style="margin-top: 20px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 data-i18n="mcp_service_apps_list">配下のアプリ</h3>
        <a href="/mcp-services/{{ mcp_service_id }}/apps/new" class="btn btn-primary" data-i18n="app_new_button">新規アプリ登録</a>
    </div>
    <div id="apps-list"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="/assets/view/mcp_services/detail.js"></script>
{% endblock %}
