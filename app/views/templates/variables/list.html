{% extends "base.html" %}

{% block title %}Variablesä¸€è¦§ - Accel MCP{% endblock %}

{% block breadcrumb %}
<nav class="breadcrumb">
    <a href="/dashboard" data-i18n="breadcrumb_home">ãƒ›ãƒ¼ãƒ </a>
    <span class="breadcrumb-separator">â€º</span>
    <span class="breadcrumb-current" data-i18n="variable_list_title">Variablesä¸€è¦§</span>
</nav>
{% endblock %}

{% block content %}
<div class="page-title">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h2 data-i18n="variable_list_title">Variablesä¸€è¦§</h2>
            <p data-i18n="variable_list_desc">å¤‰æ•°ã®ç®¡ç†</p>
        </div>
        <a href="/variables/new" class="btn btn-primary" data-i18n="variable_new_button">æ–°è¦Variableç™»éŒ²</a>
    </div>
</div>

<!-- Usage Instructions Accordion -->
<div class="accordion">
    <div class="accordion-header" onclick="toggleAccordion()">
        <span>ğŸ’¡ Variablesã®ä½¿ç”¨æ–¹æ³•</span>
        <span class="accordion-icon">â–¼</span>
    </div>
    <div class="accordion-content" id="usage-accordion">
        <div class="usage-box">
            <p style="margin-bottom: 16px;">å¤‰æ•°ã‚’ã‚¢ãƒ—ãƒªã‚„Capabilityã§ä½¿ç”¨ã™ã‚‹ã«ã¯ <code>&#123;&#123;VARIABLE_NAME&#125;&#125;</code> ã®å½¢å¼ã§å‚ç…§ã—ã¦ãã ã•ã„</p>
            
            <strong>ğŸ“ ä½¿ç”¨å¯èƒ½ãªç®‡æ‰€:</strong>
            <ul style="margin: 8px 0 16px 20px; line-height: 1.8;">
                <li><strong>Capabilityæ¥ç¶šå…ˆURL</strong>: APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®URL</li>
                <li><strong>ã‚¢ãƒ—ãƒªå…±é€šãƒ˜ãƒƒãƒ€ãƒ¼</strong>: å…¨Capabilityã§ä½¿ç”¨ã•ã‚Œã‚‹ãƒ˜ãƒƒãƒ€ãƒ¼å€¤</li>
                <li><strong>Capabilityå€‹åˆ¥ãƒ˜ãƒƒãƒ€ãƒ¼</strong>: ç‰¹å®šCapabilityã®ãƒ˜ãƒƒãƒ€ãƒ¼å€¤</li>
                <li><strong>Capabilityãƒœãƒ‡ã‚£ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</strong>: ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®å€¤</li>
                <li><strong>Capabilityãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„</strong>: Promptã‚¿ã‚¤ãƒ—ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…</li>
            </ul>
            
            <strong>âœï¸ ä½¿ç”¨ä¾‹:</strong>
            <div style="background: #f5f5f5; border-radius: 4px; padding: 12px; margin-top: 8px; font-family: monospace; font-size: 13px;">
                <div style="margin-bottom: 8px;">
                    <span style="color: #666;">// æ¥ç¶šå…ˆURL</span><br>
                    <code style="color: #388e3c;">"https://api.example.com/&#123;&#123;API_KEY&#125;&#125;"</code>
                </div>
                <div style="margin-bottom: 8px;">
                    <span style="color: #666;">// ã‚¢ãƒ—ãƒªå…±é€šãƒ˜ãƒƒãƒ€ãƒ¼</span><br>
                    <code style="color: #d32f2f;">"Authorization"</code>: <code style="color: #388e3c;">"Bearer &#123;&#123;OPENAI_API_KEY&#125;&#125;"</code>
                </div>
                <div style="margin-bottom: 8px;">
                    <span style="color: #666;">// Capabilityãƒ˜ãƒƒãƒ€ãƒ¼</span><br>
                    <code style="color: #d32f2f;">"X-API-Key"</code>: <code style="color: #388e3c;">"&#123;&#123;CUSTOM_API_KEY&#125;&#125;"</code>
                </div>
                <div>
                    <span style="color: #666;">// ãƒœãƒ‡ã‚£ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</span><br>
                    <code style="color: #d32f2f;">"api_key"</code>: <code style="color: #388e3c;">"&#123;&#123;SERVICE_KEY&#125;&#125;"</code>,<br>
                    <code style="color: #d32f2f;">"user"</code>: <code style="color: #388e3c;">"&#123;&#123;USER_ID&#125;&#125;"</code>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="variables-list"></div>

<style>
.accordion {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    margin-bottom: 24px;
    overflow: hidden;
}

.accordion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    cursor: pointer;
    background: #f8f9fa;
    font-weight: 500;
    color: #333;
    transition: background 0.2s;
    user-select: none;
}

.accordion-header:hover {
    background: #e9ecef;
}

.accordion-icon {
    font-size: 12px;
    transition: transform 0.3s;
}

.accordion-icon.rotate {
    transform: rotate(180deg);
}

.accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}

.accordion-content.open {
    max-height: 800px;
}

.usage-box {
    padding: 20px;
    color: #555;
}

.usage-box strong {
    display: block;
    margin-bottom: 8px;
    color: #1976d2;
}

.usage-box code {
    background: #fff;
    padding: 2px 6px;
    border-radius: 3px;
    border: 1px solid #ddd;
}
</style>
{% endblock %}

{% block scripts %}
<script src="/assets/view/variables/list.js"></script>
{% endblock %}
